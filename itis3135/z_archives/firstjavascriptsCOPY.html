<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matvey Ermakov's Magnetic Eagle || ITIS 3135 || Homepage</title>
    <link rel="stylesheet" href="styles/default.css">
</head>
<body>
    <header>
        <div data-include="components/header.html"></div>
    </header>
    <main>
        <h2>First Scripts</h2>
        <h3 id="currentDateHeading"></h3>
        
            <fieldset>
                <label for="user-name">Name: <input id="user-name" name="user-name" type="text" size="10" required /></label>
                <label for="feeling">How are you doing today? <input id="feeling" name="feeling" type="text" size="10" required /></label>
            </fieldset>
            <input type="submit" onclick="userGreeting()" value="Submit" />
            <p id="greeting"></p>

            <fieldset>
                <label for="fav-number">Enter your favorite number (0-10): <input id="fav-number" name="fav-number" type="number" min="0" max="10" required /></label>
            </fieldset>
            <input type="submit" onclick="favoriteNumber()" value="Submit" />

            <fieldset>
                <label for="dice">Roll the digital dice to see how many magnets you get! <input id="dice" type="submit" onclick="dice()" value="Roll it!" /></label>
            </fieldset>
            <p id="dice-result"></p>

            <fieldset>
                <label for="magnets-price">Now let's see how much your magnets will cost you:<input id="magnets-price" type="submit" onclick="magnetsPrice()" value="Calculate it!" /></label>
            </fieldset>
            <p id="magnets-price-result"></p>

            <fieldset>
                <label for="tax-price">The price of your magnets with tax will be:<input id="tax-price" type="submit" onclick="magnetsTaxPrice()" value="Tax it!" /></label>
            </fieldset>
            <p id="magnets-tax-result"></p>

            <fieldset>
                <label for="tax-price">Would you like to purchase your magnets at the given price?<input id="tax-price" type="submit" onclick="purchaseYes()" value="Yes!" /><input id="tax-price" type="submit" onclick="purchaseNo()" value="Not today" /></label>
            </fieldset>
            <p id="last-message"></p>
    </main>
    <footer>
        <div data-include="components/footer.html"></div>
    </footer>
    
    <script>
        document.getElementById("validation_link_html").setAttribute("href","https://validator.w3.org/check?uri=" + location.href);
             document.getElementById("validation_link_css").setAttribute("href","https://jigsaw.w3.org/css-validator/validator?uri=" + location.href);
    </script> 
    <script>
        //TIME
const currentDateParagraph = document.getElementById("current-date");
const dateOptionsSelectElement = document.getElementById("date-options");

const date = new Date();
const daysOfWeek = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
const allMonths = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]
const day = date.getDate();
const month = allMonths[date.getMonth()];
const year = date.getFullYear();
const hours = date.getHours();
const minutes = date.getMinutes();
const dayOfWeek = daysOfWeek[date.getDay()];

const formattedDate = `Today is ${hours}:${minutes} on ${dayOfWeek}, ${day} ${month}, ${year}`;
currentDateHeading.textContent = formattedDate;

//GREETING
function userGreeting(){
    let name = document.getElementById("user-name").value;
    let feeling = document.getElementById("feeling").value;
    let greeting = document.getElementById("greeting");

    let text = `The Magnetic Eagle welcomes you, ${name}!
    We respectfully acknowledge your current state of ${feeling}ness.`

    greeting.innerHTML = text;
}

//FAVORITE NUMBER
function favoriteNumber(){
    let polygons = ["theoretical mathematical concept","henagon", "digon", "trigon", "tetragon", "pentagon", "hexagon", "heptagon", "octagon", "enneagon", "decagon"]
    let favNumber = document.getElementById("fav-number").value;
    let polygon = document.getElementById("polygon");

    favNumber = Math.abs(favNumber);
    favNumber = Math.round(favNumber);

    let text = `Your favorite number is ${favNumber}! Did you know that a polygon with ${favNumber} sides is called a ${polygons[favNumber]}?`
    
    alert(text);
}

//BRAND FUNCTIONS
let randomNumber = null;

function dice(){
    let diceResult = document.getElementById("dice-result");

    const result = Math.floor(Math.random(1) * 7);
    
    if(result == 1){diceResult.innerHTML = `You get ${result} magnet!`;}
    else{diceResult.innerHTML = `You get ${result} magnets!`;}
    randomNumber = result;
}

function magnetsPrice(){
    let priceResult = document.getElementById("magnets-price-result");
    
    if(randomNumber == null){priceResult.innerHTML = "You have not rolled the dice yet :)"}
    else{priceResult.innerHTML = `The price of ${randomNumber} $3 magnets will be $${randomNumber * 3}`}     
}

function magnetsTaxPrice(){
    let taxResult = document.getElementById("magnets-tax-result");
    
    if(randomNumber == null){taxResult.innerHTML = "You have not rolled the dice yet :)"}
    else{taxResult.innerHTML = `The total price with tax of ${randomNumber} $3 magnets will be $${randomNumber * 3 * 1.0475}`}  
}

let lastMessage = document.getElementById("last-message");

function purchaseYes(){
    if(randomNumber == null){lastMessage.innerHTML = "You have not rolled the dice yet :)"}
    else{lastMessage.innerHTML = `Thank you for your purchase! Your magenets will be delivered to your address withing 5-7 business days. (Don't ask as how we know where you live)`}  
}

function purchaseNo(){
    if(randomNumber == null){lastMessage.innerHTML = "You have not rolled the dice yet :)"}
    else{lastMessage.innerHTML = `Understandable, have a good day!`}
}
    </script>
    <script src="scripts/HTMLInclude.min.js"></script>
</body>

</html>
